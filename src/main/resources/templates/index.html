<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Côn Đảo Wanderlust</title>
    <!-- Bootstrap CSS CDN -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Google Fonts: Poppins & Playfair Display -->
    <link
        href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&family=Playfair+Display:wght@400;700&display=swap"
        rel="stylesheet">
    <!-- Animate.css CDN -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css" rel="stylesheet">
    <!-- Custom CSS -->
    <style>
        body {
            background: linear-gradient(135deg, rgba(0, 34, 102, 0.95), rgba(0, 187, 255, 0.95)), url('https://images.unsplash.com/photo-1520116468816-95b69f847036?ixlib=rb-4.0.3&auto=format&fit=crop&w=1920&q=80') no-repeat center center fixed;
            background-size: cover;
            font-family: 'Poppins', sans-serif;
            color: #fff;
            overflow-x: hidden;
            position: relative;
        }

        .parallax-bg {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: url('https://images.unsplash.com/photo-1520116468816-95b69f847036?ixlib=rb-4.0.3&auto=format&fit=crop&w=1920&q=80') no-repeat center center;
            background-size: cover;
            z-index: -1;
            animation: wave 15s infinite ease-in-out;
        }

        @keyframes wave {

            0%,
            100% {
                transform: translateY(0) scale(1);
            }

            50% {
                transform: translateY(-30px) scale(1.03);
            }
        }

        .navbar {
            background: rgba(0, 0, 0, 0.99);
            padding: 45px 0;
            box-shadow: 0 15px 60px rgba(0, 0, 0, 0.85);
            transition: all 0.3s ease;
        }

        .navbar-brand {
            font-family: 'Playfair Display', serif;
            font-size: 3.5rem;
            color: #00f7ff !important;
            letter-spacing: 4px;
            transition: all 0.3s ease;
            text-shadow: 0 0 10px rgba(0, 247, 255, 0.5);
        }

        .navbar-brand:hover {
            color: #ffd700 !important;
            transform: scale(1.12);
            text-shadow: 0 0 20px rgba(255, 215, 0, 0.7);
        }

        .nav-link {
            font-size: 1.6rem;
            color: #fff !important;
            margin-left: 50px;
            transition: all 0.3s ease;
        }

        .nav-link:hover {
            color: #ffd700 !important;
            transform: translateY(-6px);
            text-shadow: 0 0 10px rgba(255, 215, 0, 0.5);
        }

        .hero-section {
            background: rgba(255, 255, 255, 0.99);
            border-radius: 60px;
            padding: 140px 120px;
            margin: 220px auto;
            max-width: 1700px;
            box-shadow: 0 60px 140px rgba(0, 0, 0, 0.6);
            color: #001f3f;
            animation: fadeInUp 3.5s ease-out;
        }

        h1 {
            font-family: 'Playfair Display', serif;
            font-size: 6rem;
            color: #001f3f;
            letter-spacing: 5px;
            text-shadow: 4px 4px 20px rgba(0, 0, 0, 0.4);
        }

        .lead {
            font-size: 2.4rem;
            color: #1a2a44;
            line-height: 2.2;
        }

        #map {
            height: 900px;
            border-radius: 55px;
            margin: 90px 0;
            border: 12px solid #1e90ff;
            box-shadow: 0 35px 100px rgba(0, 0, 0, 0.5);
            transition: transform 0.3s ease;
        }

        #map:hover {
            transform: scale(1.03);
        }

        .location-selector {
            margin-bottom: 70px;
            text-align: center;
        }

        .location-selector p {
            font-size: 2rem;
            color: #1a2a44;
            margin-bottom: 40px;
            text-shadow: 2px 2px 10px rgba(0, 0, 0, 0.2);
        }

        .service-list {
            background: rgba(255, 255, 255, 0.99);
            border-radius: 55px;
            padding: 90px;
            margin-top: 90px;
            max-height: 800px;
            overflow-y: auto;
            /* Tạo thanh cuộn dọc */
            box-shadow: 0 35px 100px rgba(0, 0, 0, 0.5);
            display: none;
        }

        /* Tùy chỉnh thanh cuộn cho service-list */
        .service-list::-webkit-scrollbar {
            width: 12px;
            /* Chiều rộng thanh cuộn */
        }

        .service-list::-webkit-scrollbar-track {
            background: #e6f0ff;
            /* Màu nền của track (phần bên dưới thumb) */
            border-radius: 25px;
            /* Bo góc track */
            margin: 10px 0;
            /* Khoảng cách trên dưới của track */
        }

        .service-list::-webkit-scrollbar-thumb {
            background: #1e90ff;
            /* Màu của thumb (phần kéo được) */
            border-radius: 25px;
            /* Bo góc thumb */
            border: 2px solid #e6f0ff;
            /* Viền xung quanh thumb */
            transition: background 0.3s ease;
            /* Hiệu ứng chuyển màu */
        }

        .service-list::-webkit-scrollbar-thumb:hover {
            background: #0055ff;
            /* Màu khi hover */
        }

        .service-item {
            cursor: pointer;
            padding: 45px;
            border-radius: 40px;
            margin-bottom: 40px;
            background: #99d6ff;
            transition: all 0.3s ease;
        }

        .service-item:hover {
            background: #0055ff;
            transform: translateY(-12px) scale(1.04);
            box-shadow: 0 25px 50px rgba(0, 0, 0, 0.4);
            text-shadow: 0 0 15px rgba(255, 255, 255, 0.7);
        }

        .service-detail {
            display: none;
            background: #fff;
            border-radius: 55px;
            padding: 90px;
            margin-top: 90px;
            box-shadow: 0 35px 100px rgba(0, 0, 0, 0.5);
        }

        footer {
            background: rgba(0, 0, 0, 0.99);
            padding: 140px 0;
            font-size: 1.8rem;
            color: #33aaff;
        }

        footer a {
            color: #00f7ff;
            text-decoration: none;
            transition: all 0.3s ease;
        }

        footer a:hover {
            color: #ffd700;
            transform: scale(1.2);
        }

        .animate__fadeInUp {
            animation: fadeInUp 3.5s ease-out;
        }

        .animate__pulse {
            animation: pulse 2.5s infinite;
        }

        @media (max-width: 768px) {
            h1 {
                font-size: 3.5rem;
            }

            .hero-section {
                padding: 100px 60px;
                margin: 140px 45px;
            }

            #map {
                height: 700px;
            }

            .navbar-brand {
                font-size: 2.6rem;
            }

            .nav-link {
                font-size: 1.4rem;
                margin-left: 40px;
            }

            .lead {
                font-size: 1.8rem;
            }

            .service-list,
            .service-detail {
                padding: 60px;
            }

            .location-selector p {
                font-size: 1.5rem;
            }

            /* Tùy chỉnh thanh cuộn trên mobile */
            .service-list::-webkit-scrollbar {
                width: 8px;
                /* Thu nhỏ thanh cuộn trên mobile */
            }
        }
    </style>
</head>

<body>
    <div class="parallax-bg"></div>
    <!-- Navbar -->
    <nav class="navbar navbar-expand-lg navbar-dark fixed-top">
        <div class="container-fluid">
            <a class="navbar-brand" href="/">Côn Đảo Wanderlust</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"
                aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <a class="nav-link active" href="/">Home</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/tours">Tours</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/services">Services</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/contact">Contact</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/login">Login</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/signup">Sign Up</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <div class="container">
        <div class="hero-section text-center animate__fadeInUp">
            <h1 class="display-4">Unravel Côn Đảo's Mystique</h1>
            <p class="lead">Immerse in pristine beaches, rich history, and untouched beauty of Vietnam's hidden gem.</p>
            <!-- Location Selector -->
            <div class="location-selector">
                <p>Click or drag the marker to instantly explore nearby services.</p>
            </div>
            <!-- Map -->
            <div id="map"></div>
            <!-- Service List -->
            <div id="serviceList" class="service-list">
                <h5>Services Near Your Location</h5>
                <div id="services"></div>
            </div>
            <!-- Service Detail -->
            <div id="serviceDetail" class="service-detail"></div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="text-center">
        <p>© 2025 Côn Đảo Wanderlust. Your journey to paradise starts here. <a href="/contact">Contact Us</a></p>
    </footer>

    <!-- Bootstrap JS and Popper.js CDN -->
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.min.js"></script>
    <!-- GoMaps JS -->
    <script src="https://maps.gomaps.pro/maps/api/js?key=AlzaSyvdTBSn84ioV2MQy1dhczs5iAgmbEmrjjN&callback=initMap" async
        defer></script>
    <!-- Custom JS -->
    <script>
        let selectedLocation = null;
        let userMarker = null;
        let map = null;

        function initMap() {
            // Initialize GoMaps centered on Côn Đảo in satellite mode
            const mapOptions = {
                center: { lat: 8.6910, lng: 106.6167 }, // Côn Đảo
                zoom: 12,
                mapTypeId: google.maps.MapTypeId.SATELLITE, // Set map type to satellite
                styles: [
                    { featureType: "water", elementType: "geometry", stylers: [{ color: "#00f7ff" }] },
                    { featureType: "landscape", elementType: "geometry", stylers: [{ color: "#99d6ff" }] },
                    { featureType: "road", stylers: [{ saturation: -80 }] },
                    { featureType: "poi", stylers: [{ visibility: "off" }] },
                    { featureType: "poi.airport", stylers: [{ visibility: "off" }] },
                    { featureType: "transit", stylers: [{ visibility: "off" }] },
                    { featureType: "landmark", stylers: [{ visibility: "off" }] }
                ]
            };
            map = new google.maps.Map(document.getElementById('map'), mapOptions);

            // Mock service data for Côn Đảo
            const services = [
                { id: 1, name: "Oceanfront Villa", lat: 8.6910, lng: 106.6167, description: "Luxury villa with panoramic ocean views.", details: "Price: $300/night, Amenities: Private Beach, Pool, Dining" },
                { id: 2, name: "Seafood Shack", lat: 8.6930, lng: 106.6180, description: "Fresh seafood with local flavors.", details: "Price: $15/meal, Open: 11AM-10PM" },
                { id: 3, name: "Turtle Dive Resort", lat: 8.6880, lng: 106.6140, description: "Dive with sea turtles in crystal waters.", details: "Price: $100/dive, Includes: Gear, Guide" },
                { id: 4, name: "Coral Reef Snorkeling", lat: 8.6900, lng: 106.6150, description: "Snorkel among vibrant coral reefs.", details: "Price: $50/session, Includes: Snorkel Gear, Boat Ride" },
                { id: 5, name: "Island Breeze Spa", lat: 8.6925, lng: 106.6170, description: "Relax with oceanfront spa treatments.", details: "Price: $80/massage, Open: 9AM-8PM" },
                { id: 6, name: "Sunset Kayaking", lat: 8.6895, lng: 106.6135, description: "Kayak during the golden hour.", details: "Price: $40/trip, Includes: Kayak, Guide" },
                { id: 7, name: "Côn Đảo History Tour", lat: 8.6915, lng: 106.6160, description: "Explore the island's historical sites.", details: "Price: $60/tour, Includes: Guide, Transport" },
                { id: 8, name: "Beachfront Yoga Retreat", lat: 8.6905, lng: 106.6145, description: "Yoga sessions with ocean views.", details: "Price: $30/session, Open: 6AM-7PM" },
                { id: 9, name: "Seaside Cafe", lat: 8.6920, lng: 106.6185, description: "Cozy cafe with stunning sea views.", details: "Price: $10/drink, Open: 8AM-9PM" },
                { id: 10, name: "Fishing Adventure", lat: 8.6885, lng: 106.6155, description: "Deep-sea fishing with local guides.", details: "Price: $120/trip, Includes: Boat, Equipment" }
            ];

            // Add service markers (black)
            services.forEach(function (service) {
                new google.maps.Marker({
                    position: { lat: service.lat, lng: service.lng },
                    map: map,
                    title: service.name,
                    icon: 'https://img.icons8.com/ios-filled/25/000000/marker.png',
                    animation: google.maps.Animation.DROP
                });
            });

            // Add draggable user marker (colorful)
            userMarker = new google.maps.Marker({
                position: { lat: 8.6910, lng: 106.6167 },
                map: map,
                draggable: true,
                icon: 'https://img.icons8.com/fluency/48/000000/marker.png',
                animation: google.maps.Animation.BOUNCE
            });

            // Function to update services based on location
            function updateServices(lat, lng) {
                const serviceList = document.getElementById('serviceList');
                const servicesContainer = document.getElementById('services');
                servicesContainer.innerHTML = '';
                serviceList.style.display = 'block';
                document.getElementById('serviceDetail').style.display = 'none';

                // Filter services within 0.005 degree (~500m)
                services.forEach(function (service) {
                    if (Math.abs(service.lat - lat) < 0.005 && Math.abs(service.lng - lng) < 0.005) {
                        const serviceDiv = document.createElement('div');
                        serviceDiv.className = 'service-item animate__animated animate__fadeIn';
                        serviceDiv.innerHTML = `<strong>${service.name}</strong><br>${service.description}`;
                        serviceDiv.onclick = function () {
                            document.getElementById('serviceDetail').style.display = 'block';
                            document.getElementById('serviceDetail').innerHTML = `
                                <h5>${service.name}</h5>
                                <p>${service.details}</p>
                            `;
                        };
                        servicesContainer.appendChild(serviceDiv);
                    }
                });
                // Hide service list if no services found
                if (servicesContainer.innerHTML === '') {
                    serviceList.style.display = 'none';
                }
            }

            // Update selected location on marker drag
            google.maps.event.addListener(userMarker, 'dragend', function () {
                selectedLocation = userMarker.getPosition();
                userMarker.setAnimation(google.maps.Animation.BOUNCE);
                setTimeout(() => userMarker.setAnimation(null), 1000);
                updateServices(selectedLocation.lat(), selectedLocation.lng());
            });

            // Update selected location on map click
            map.addListener('click', function (e) {
                selectedLocation = e.latLng;
                userMarker.setPosition(selectedLocation);
                userMarker.setAnimation(google.maps.Animation.BOUNCE);
                setTimeout(() => userMarker.setAnimation(null), 1000);
                updateServices(selectedLocation.lat(), selectedLocation.lng());
            });
        }
    </script>
</body>

</html>